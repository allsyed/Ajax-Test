<head>
  	<title>Ajax loader </title>
		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/materializestyle.css"/>
    <style>

	.loading {
		position: fixed;
		left: 0px;
		top: 0px;
		opacity:.7;
		width: 100%;
		height: 100%;
		z-index: 9999;
		background: url('ajax-loader1.gif') center no-repeat #fff;
	}

    </style>
	
	<body>
	 <div>
	 <div class="loading"></div>
	   <button onclick="getIt()">Ajax call</button>
	 </div>
	 <div class="bg" style="width:600px;height:600px"> </div>
	

	</body>
	<script>
	$(".loading").fadeOut("slow");
	function getIt(){
		$(".loading").show("slow");
		$('.hide').removeClass('hide')
			setInterval(function(){
			
					$.ajax({
			url:"https://perk.brio.co.in/api/BingImageURL",
			datatype:"json",

			success:function(data)
			{
			  $('.bg').css('background-image','url('+data[0].bingURL+')','opacity','1');
			  $('.preloader-wrapper').addClass('hide')
			  $(".loading").fadeOut("slow")
			}
			})
					  
			},3000)

;
	}
	</script>